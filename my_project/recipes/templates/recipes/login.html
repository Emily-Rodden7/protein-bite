{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sign In</title>
    <link rel="stylesheet" href="{% static 'recipes/styles.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<style>
  .forms-container .login-form {
  display: block;
}

.forms-container .sign-up-form {
  display: none;
}

.forms-container.show-signup .login-form {
  display: none;
}

.forms-container.show-signup .sign-up-form {
  display: block;
}

  .toggle-form-button {
    background-color: #4CAF50;
    color: #fff;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  
  .toggle-form-button:hover {
    background-color: #3e8e41;
  }
</style>
{% if messages %}
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">
            {{ message }}
        </div>
    {% endfor %}
{% endif %}
<body>
    <div class="navbar">
        <a href="{% url 'home' %}">Home</a>
        <a href="{% url 'about' %}">About</a>
        <a href="{% url 'recipes' %}">Recipes</a>
        <a href="{% url 'login' %}">Log In</a>
    </div>
<h1>Login</h1>
<p>Login to your account below.</p>
    <div class="container">
        <div class="forms-container">
            <button class="toggle-form-button">Create Account</button>
            <div class="signin-login">
                <form action="{% url 'register' %}" method="post" class="sign-up-form">
                    {% csrf_token %}
                    <h2 class="title">Sign up</h2>
                    <div class="input-field">
                        <i class="fas fa-user"></i>
                        <input type="text" name="username" placeholder="Username" required>
                    </div>
                    <div class="input-field">
                        <i class="fas fa-envelope"></i>
                        <input type="email" name="email" placeholder="Email" required>
                    </div>
                    <div class="input-field">
                        <i class="fas fa-lock"></i>
                        <input type="password" class="password" name="password1" placeholder="Password" required>
                        <button class="toggle-password" type="button">Show Password</button>
                    </div>
                    <div class="input-field">
                        <i class="fas fa-lock"></i>
                        <input type="password" class="password" name="password2" placeholder="Confirm Password" required>
                        <button class="toggle-password" type="button">Show Password</button>
                    </div>
                    <input type="submit" value="Register" class="btn">
                </form>
                <form action="{% url 'login' %}" method="post" class="login-form">
                    {% csrf_token %}
                    <h2 class="title">Login</h2>
                    <div class="input-field">
                        <i class="fas fa-user"></i>
                        <input type="text" name="username" placeholder="Username" required>
                    </div>
                    <div class="input-field">
                        <i class="fas fa-lock"></i>
                        <input type="password" class="password" name="password" placeholder="Password" required>
                        <button class="toggle-password" type="button">Show Password</button>
                    </div>
                    <input type="submit" value="Login" class="btn">
                </form>
            </div>
        </div>
    </div>
    <script>
    const passwordInputs = document.querySelectorAll('.password');
    const toggleButtons = document.querySelectorAll('.toggle-password');

    //Show/hide password
toggleButtons.forEach((button, index) => {
  button.addEventListener('click', () => {
    if (passwordInputs[index].type === 'password') {
      passwordInputs[index].type = 'text';
    } else {
      passwordInputs[index].type = 'password';
    }
  });
});

// Show/hide signup and login forms
const toggleFormButton = document.querySelector('.toggle-form-button');
const formsContainer = document.querySelector('.forms-container');
const loginUrl = "{% url 'login' %}";
const registerUrl = "{% url 'register' %}";

if (toggleFormButton) {
  toggleFormButton.addEventListener('click', () => {
    formsContainer.classList.toggle('show-signup');
    if (formsContainer.classList.contains('show-signup')) {
      window.location.href = registerUrl;
    } else {
      window.location.href = loginUrl;
    }
    toggleFormButton.textContent = formsContainer.classList.contains('show-signup') ? 'Login' : 'Create Account';
  });
}
    </script>

<!-- Footer -->
 <footer class="footer">
  <div class="footer-content">
    <p>&copy; 2025 Protein Bite. All rights reserved.</p>

    <ul class="footer-links">
      <li><a href="/">Home</a></li>
      <li><a href="/about/">About</a></li>
      <li><a href="/recipes/">Recipes</a></li>
                    {% if user.is_authenticated %}
          <a href="{% url 'logout' %}">Log Out</a>
        {% else %}
          <a href="{% url 'login' %}">Log In</a>
        {% endif %}
    </ul>

    <div class="social-icons">
      <a href="https://facebook.com" target="_blank"><i class="fab fa-facebook-f"></i></a>
      <a href="https://twitter.com" target="_blank"><i class="fab fa-twitter"></i></a>
      <a href="https://instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
      <a href="https://linkedin.com" target="_blank"><i class="fab fa-linkedin-in"></i></a>
    </div>
  </div>
</footer>
</body>
</html>

